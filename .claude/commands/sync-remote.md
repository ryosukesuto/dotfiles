---
description: リモートブランチと現在のブランチを同期
---

# リモートブランチとの同期

現在のブランチをリモートの最新状態に同期します。Terraformリポジトリのブランチ戦略に基づいて、安全にリモートの変更を取り込みます。

## 現在の状態確認
! git status --porcelain
! git branch --show-current
! git log --oneline -1 HEAD

## 同期プロセスの実行

1. **未コミットの変更を退避**
   - ローカルの変更がある場合は一時的にstashに保存

2. **リモートから最新の変更を取得**
   ```bash
   git fetch sandbox --prune
   ```

3. **現在のブランチをリモートにリベース**
   ```bash
   git pull --rebase sandbox $(git branch --show-current)
   ```

4. **退避した変更を再適用**
   - stashした変更がある場合は再適用

5. **結果の確認**
   - コンフリクトがある場合は解決方法を提示
   - 正常に同期できた場合は更新内容をサマリー表示

## 注意事項
- マージコミットを避けるため、常にリベースを使用
- コンフリクトが発生した場合は、手動での解決が必要
- force pushが必要な場合は事前に確認を求める
- `--prune`オプションでリモートで削除されたブランチの追跡情報を自動削除

## 関連コマンド
- **不要なブランチの削除**: `/user:clean-branches` コマンドを使用してください