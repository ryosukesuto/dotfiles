# ğŸš€ Claude Code é–‹ç™ºç’°å¢ƒæ§‹ç¯‰å®Œå…¨ã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Claude Codeã‚’ä½¿ç”¨ã—ãŸåŠ¹ç‡çš„ãªé–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰æ–¹æ³•ã¨ã€AIã‚¢ã‚·ã‚¹ãƒˆé–‹ç™ºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’è§£èª¬ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

1. [ã¯ã˜ã‚ã«](#ã¯ã˜ã‚ã«)
2. [åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
3. [CLAUDE.mdã®è¨­è¨ˆ](#claudemdã®è¨­è¨ˆ)
4. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æœ€é©åŒ–](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æœ€é©åŒ–)
5. [ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®šç¾©](#ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®šç¾©)
6. [åŠ¹ç‡çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼](#åŠ¹ç‡çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼)
7. [ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
8. [MCPï¼ˆModel Context Protocolï¼‰ã®æ´»ç”¨](#mcpmodel-context-protocolã®æ´»ç”¨)
9. [ãƒãƒ¼ãƒ é–‹ç™ºã§ã®æ´»ç”¨](#ãƒãƒ¼ãƒ é–‹ç™ºã§ã®æ´»ç”¨)
10. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
11. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ã¯ã˜ã‚ã«

Claude Codeã¯ã€AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨å”èª¿ã—ã¦é–‹ç™ºã‚’è¡Œã†ãŸã‚ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚é©åˆ‡ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºåŠ¹ç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ğŸ¯ ã“ã®ã‚¬ã‚¤ãƒ‰ã®å¯¾è±¡è€…
- Claude Codeã‚’åˆã‚ã¦ä½¿ç”¨ã™ã‚‹é–‹ç™ºè€…
- AIã‚¢ã‚·ã‚¹ãƒˆé–‹ç™ºã®åŠ¹ç‡ã‚’æœ€å¤§åŒ–ã—ãŸã„ãƒãƒ¼ãƒ 
- æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Claude Codeã‚’å°å…¥ã—ãŸã„æ–¹

---

## åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. Claude Codeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# NPMã‚’ä½¿ç”¨ã—ãŸã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g @anthropic-ai/claude-code

# ã¾ãŸã¯ã€Homebrewã‚’ä½¿ç”¨ï¼ˆmacOSï¼‰
brew install claude-code

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
claude --version
```

### 2. èªè¨¼è¨­å®š

```bash
# Claude Codeã«ãƒ­ã‚°ã‚¤ãƒ³
claude login

# APIã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
export CLAUDE_API_KEY="your-api-key"
```

### 3. ã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆï¼ˆæ¨å¥¨ï¼‰

```bash
# VS Codeæ‹¡å¼µæ©Ÿèƒ½ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
code --install-extension anthropic.claude-code

# Vim/Neovimãƒ—ãƒ©ã‚°ã‚¤ãƒ³
# ~/.vimrc ã¾ãŸã¯ init.vim ã«è¿½åŠ 
Plug 'anthropic/claude-code.nvim'
```

---

## CLAUDE.mdã®è¨­è¨ˆ

CLAUDE.mdã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æƒ…å ±ã‚’Claude Codeã«ä¼ãˆã‚‹ãŸã‚ã®é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

### åŸºæœ¬æ§‹é€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```markdown
# CLAUDE.md

## Project Overview
[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚è¦ã¨ç›®çš„ã‚’è¨˜è¼‰]

## Architecture
[ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®èª¬æ˜]

## Key Technologies
- Language: [ä½¿ç”¨è¨€èªã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³]
- Framework: [ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³]
- Database: [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æƒ…å ±]
- External Services: [å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§]

## Development Guidelines
### Code Style
[ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰]

### Testing Strategy
[ãƒ†ã‚¹ãƒˆæ–¹é‡ã¨å®Ÿè¡Œæ–¹æ³•]

### Security Considerations
[ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®æ³¨æ„ç‚¹]

## Custom Commands
[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚³ãƒãƒ³ãƒ‰å®šç¾©]

## Common Tasks
[ã‚ˆãè¡Œã†ã‚¿ã‚¹ã‚¯ã¨ãã®æ‰‹é †]

## Troubleshooting
[æ—¢çŸ¥ã®å•é¡Œã¨è§£æ±ºæ–¹æ³•]
```

### å®Ÿè·µçš„ãªCLAUDE.mdä¾‹

```markdown
# CLAUDE.md - E-Commerce Platform

## Project Overview
This is a modern e-commerce platform built with Next.js and TypeScript.
The system handles product management, user authentication, and payment processing.

## Architecture
```
src/
â”œâ”€â”€ app/           # Next.js 14 App Router
â”œâ”€â”€ components/    # Reusable React components
â”œâ”€â”€ lib/          # Utility functions and API clients
â”œâ”€â”€ services/     # Business logic layer
â””â”€â”€ types/        # TypeScript type definitions
```

## Key Technologies
- Language: TypeScript 5.3
- Framework: Next.js 14 (App Router)
- Database: PostgreSQL with Prisma ORM
- Authentication: NextAuth.js
- Payment: Stripe API
- Testing: Jest + React Testing Library

## Development Guidelines

### Code Style
- Use functional components with hooks
- Prefer named exports over default exports
- Follow Airbnb ESLint configuration
- Use absolute imports from '@/' prefix

### Testing Strategy
- Unit tests for all utility functions
- Integration tests for API routes
- E2E tests for critical user flows
- Minimum 80% code coverage

### Security Considerations
- Never commit .env files
- Use environment variables for all secrets
- Validate all user inputs
- Implement CSRF protection

## Custom Commands

### `/setup-dev`
Initialize development environment:
1. Install dependencies: `npm install`
2. Set up database: `npm run db:setup`
3. Seed test data: `npm run db:seed`
4. Start dev server: `npm run dev`

### `/add-feature [name]`
Create new feature with boilerplate:
1. Generate component structure
2. Create corresponding tests
3. Update routing configuration
4. Add to feature documentation

### `/deploy-preview`
Deploy to preview environment:
1. Run tests: `npm test`
2. Build application: `npm run build`
3. Deploy to Vercel preview
4. Run E2E tests on preview URL

## Common Tasks

### Adding a New Product Feature
1. Create product model in `prisma/schema.prisma`
2. Run migration: `npm run db:migrate`
3. Generate types: `npm run generate:types`
4. Implement API route in `app/api/products/`
5. Create UI components in `components/products/`

### Debugging Payment Issues
1. Check Stripe webhook logs
2. Verify environment variables
3. Test with Stripe CLI: `stripe listen --forward-to localhost:3000/api/webhooks/stripe`
4. Check payment service logs

## API Patterns

### Data Fetching
```typescript
// Always use server components for initial data
async function ProductList() {
  const products = await fetchProducts()
  return <ProductGrid products={products} />
}

// Use SWR for client-side updates
const { data, error } = useSWR('/api/products', fetcher)
```

### Error Handling
```typescript
// Consistent error response format
return NextResponse.json(
  { error: 'Product not found', code: 'PRODUCT_NOT_FOUND' },
  { status: 404 }
)
```

## Performance Considerations
- Use Next.js Image component for all images
- Implement lazy loading for product lists
- Cache API responses with proper headers
- Use database indexes for frequent queries

## Deployment Checklist
- [ ] All tests passing
- [ ] Environment variables configured
- [ ] Database migrations applied
- [ ] Static assets optimized
- [ ] Security headers configured
- [ ] Monitoring alerts set up
```

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æœ€é©åŒ–

### æ¨å¥¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
project-root/
â”œâ”€â”€ .claude/              # Claude Codeè¨­å®š
â”‚   â”œâ”€â”€ commands/         # ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰å®šç¾©
â”‚   â”œâ”€â”€ templates/        # ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ workflows/        # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©
â”œâ”€â”€ .workplace/           # ã‚¿ã‚¹ã‚¯ç®¡ç†
â”‚   â”œâ”€â”€ current/          # ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯
â”‚   â”œâ”€â”€ completed/        # å®Œäº†ã‚¿ã‚¹ã‚¯
â”‚   â””â”€â”€ retrospectives/   # æŒ¯ã‚Šè¿”ã‚Šè¨˜éŒ²
â”œâ”€â”€ docs/                 # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ architecture/     # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ api/              # APIä»•æ§˜æ›¸
â”‚   â””â”€â”€ guides/           # é–‹ç™ºã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ sandbox/              # å®Ÿé¨“ãƒ»æ¤œè¨¼ç”¨
â””â”€â”€ CLAUDE.md            # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
```

### .claude/commands/example.yml

```yaml
name: create-component
description: Create a new React component with tests
parameters:
  - name: componentName
    required: true
    description: Name of the component to create
  - name: type
    required: false
    default: functional
    options: [functional, class]
steps:
  - create_file: "src/components/{{componentName}}/index.tsx"
    template: component.tsx.hbs
  - create_file: "src/components/{{componentName}}/{{componentName}}.test.tsx"
    template: component.test.tsx.hbs
  - create_file: "src/components/{{componentName}}/{{componentName}}.module.css"
    template: component.module.css.hbs
  - append_to_file: "src/components/index.ts"
    content: "export * from './{{componentName}}'"
```

---

## ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®šç¾©

### é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```yaml
# .claude/workflows/feature-development.yml
name: Feature Development Workflow
description: Standard workflow for developing new features
phases:
  - name: Initialize
    steps:
      - Create feature branch
      - Set up task tracking
      - Review requirements
    
  - name: Design
    steps:
      - Create technical design
      - Review with team
      - Update CLAUDE.md if needed
    
  - name: Implement
    steps:
      - Write unit tests first (TDD)
      - Implement feature code
      - Ensure code coverage > 80%
    
  - name: Test
    steps:
      - Run unit tests
      - Run integration tests
      - Manual testing
    
  - name: Review
    steps:
      - Self code review
      - Create pull request
      - Address feedback
    
  - name: Deploy
    steps:
      - Merge to main
      - Deploy to staging
      - Verify in staging
      - Deploy to production
    
  - name: Retrospect
    steps:
      - Document learnings
      - Update best practices
      - Share with team
```

### ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```markdown
# .workplace/current/TASK-001.md

## Task: Implement User Authentication

### Context
Users need to be able to create accounts and log in securely.

### Requirements
- [ ] Email/password authentication
- [ ] OAuth integration (Google, GitHub)
- [ ] Password reset functionality
- [ ] Session management
- [ ] Remember me option

### Technical Approach
1. Use NextAuth.js for authentication
2. PostgreSQL for user storage
3. JWT for session tokens
4. SendGrid for email delivery

### Progress Log
- 2024-01-15: Set up NextAuth configuration
- 2024-01-16: Implemented email/password provider
- 2024-01-17: Added Google OAuth

### Blockers
- Need SendGrid API key from DevOps team

### Notes
- Consider adding 2FA in future iteration
- Review OWASP authentication guidelines
```

---

## åŠ¹ç‡çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. æœã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ«ãƒ¼ãƒãƒ³

```bash
# é–‹ç™ºç’°å¢ƒã®èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
#!/bin/bash
# .claude/scripts/start-day.sh

echo "ğŸŒ… Starting development day..."

# æœ€æ–°ã®å¤‰æ›´ã‚’å–å¾—
git pull origin main

# ä¾å­˜é–¢ä¿‚ã®æ›´æ–°
npm install

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npm run db:migrate

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev &

# ãƒ†ã‚¹ãƒˆã®ç›£è¦–ãƒ¢ãƒ¼ãƒ‰
npm run test:watch &

# Claude Codeã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹
claude chat --context ./CLAUDE.md

echo "âœ… Development environment ready!"
```

### 2. æ©Ÿèƒ½é–‹ç™ºãƒ•ãƒ­ãƒ¼

```markdown
## Feature Development Checklist

### Planning Phase
- [ ] Review requirements in issue/ticket
- [ ] Break down into subtasks
- [ ] Estimate time needed
- [ ] Identify dependencies

### Implementation Phase
- [ ] Create feature branch: `git checkout -b feature/[name]`
- [ ] Write tests first (TDD approach)
- [ ] Implement minimum viable solution
- [ ] Refactor for quality
- [ ] Update documentation

### Testing Phase
- [ ] Run unit tests: `npm test`
- [ ] Run integration tests: `npm run test:integration`
- [ ] Manual testing in development
- [ ] Cross-browser testing if UI changes

### Review Phase
- [ ] Self-review with checklist
- [ ] Run linter: `npm run lint`
- [ ] Check test coverage: `npm run coverage`
- [ ] Create detailed PR description
- [ ] Request code review

### Deployment Phase
- [ ] Merge PR after approval
- [ ] Monitor CI/CD pipeline
- [ ] Verify in staging environment
- [ ] Create release notes
- [ ] Deploy to production
```

### 3. Claude Codeã¨ã®åŠ¹æœçš„ãªå¯¾è©±

```markdown
## Effective Claude Code Prompts

### è‰¯ã„ä¾‹ âœ…

"I need to implement a shopping cart feature. The requirements are:
- Add/remove items
- Update quantities
- Calculate totals with tax
- Persist cart in localStorage
Please follow our existing patterns in src/components/cart/"

### æ‚ªã„ä¾‹ âŒ

"Make a shopping cart"

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹

"Based on our authentication system in src/lib/auth/, 
I need to add role-based access control. 
Admin users should access /admin routes, 
regular users only /dashboard. 
Follow our existing middleware pattern."
```

---

## ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®éšå±¤åŒ–

```
ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ (CLAUDE.md)
    â†“
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ (.claude/project.md)
    â†“
æ©Ÿèƒ½ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ (feature/README.md)
    â†“
ã‚¿ã‚¹ã‚¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ (.workplace/current/task.md)
```

### 2. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹

```markdown
# .claude/contexts/api-development.md

## API Development Context

### Base URL Structure
- Development: http://localhost:3000/api
- Staging: https://staging.example.com/api
- Production: https://api.example.com

### Authentication Headers
```
Authorization: Bearer [JWT_TOKEN]
X-API-Version: 2.0
Content-Type: application/json
```

### Common Response Formats

#### Success Response
```json
{
  "success": true,
  "data": { ... },
  "meta": {
    "timestamp": "2024-01-15T10:30:00Z",
    "version": "2.0"
  }
}
```

#### Error Response
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid input data",
    "details": [ ... ]
  }
}
```

### Rate Limiting
- 100 requests per minute for authenticated users
- 20 requests per minute for anonymous users
- Headers: X-RateLimit-Limit, X-RateLimit-Remaining
```

### 3. å‹•çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ç®¡ç†

```typescript
// .claude/scripts/update-context.ts

import { readFileSync, writeFileSync } from 'fs';
import { execSync } from 'child_process';

function updateContext() {
  const context = {
    lastUpdated: new Date().toISOString(),
    gitBranch: execSync('git branch --show-current').toString().trim(),
    uncommittedChanges: execSync('git status --short').toString().split('\n').length - 1,
    testStatus: getTestStatus(),
    coverage: getCoveragePercentage(),
    dependencies: getOutdatedDependencies(),
  };

  writeFileSync('.claude/dynamic-context.json', JSON.stringify(context, null, 2));
}

function getTestStatus() {
  try {
    execSync('npm test -- --passWithNoTests');
    return 'passing';
  } catch {
    return 'failing';
  }
}

// å®šæœŸçš„ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°
setInterval(updateContext, 5 * 60 * 1000); // 5åˆ†ã”ã¨
```

---

## MCPï¼ˆModel Context Protocolï¼‰ã®æ´»ç”¨

### 1. MCP Serverã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```typescript
// mcp-server/index.ts
import { MCPServer } from '@anthropic/mcp';

const server = new MCPServer({
  name: 'project-knowledge-base',
  version: '1.0.0',
  description: 'Project-specific knowledge and tools',
});

// ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ã®ç™»éŒ²
server.registerTool({
  name: 'search_codebase',
  description: 'Search for code patterns in the project',
  parameters: {
    pattern: { type: 'string', required: true },
    fileTypes: { type: 'array', items: { type: 'string' } },
  },
  handler: async ({ pattern, fileTypes }) => {
    // å®Ÿè£…
  },
});

// ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®ç™»éŒ²
server.registerKnowledge({
  name: 'architecture_decisions',
  description: 'Architectural Decision Records (ADRs)',
  loader: async () => {
    // ADRsã‚’èª­ã¿è¾¼ã‚“ã§è¿”ã™
  },
});

server.start();
```

### 2. MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

```json
// .claude/mcp-config.json
{
  "servers": [
    {
      "name": "project-knowledge-base",
      "url": "http://localhost:8080",
      "tools": ["search_codebase", "run_tests", "check_coverage"],
      "knowledge": ["architecture_decisions", "api_documentation"]
    },
    {
      "name": "external-services",
      "url": "http://localhost:8081",
      "tools": ["check_service_status", "view_logs"],
      "credentials": {
        "type": "env",
        "key": "MCP_EXTERNAL_TOKEN"
      }
    }
  ]
}
```

---

## ãƒãƒ¼ãƒ é–‹ç™ºã§ã®æ´»ç”¨

### 1. ãƒãƒ¼ãƒ ç”¨CLAUDE.md

```markdown
# Team Development Guidelines

## Communication Protocols
- Daily standup notes in `.workplace/standups/`
- Architecture decisions in `docs/adr/`
- Code review checklist in `.github/pull_request_template.md`

## Knowledge Sharing
- Weekly tech talks recorded in `docs/tech-talks/`
- Pair programming sessions logged in `.workplace/pairing/`
- Learnings documented in `.workplace/retrospectives/`

## AI Assistant Guidelines
- Always provide context when asking Claude Code for help
- Share successful prompts in `docs/prompt-library/`
- Document AI-assisted solutions with `AI-Assisted: ` prefix in commits

## Code Review with AI
1. Run AI pre-review: `claude review --pr [number]`
2. Address AI suggestions
3. Request human review
4. Document any overridden AI suggestions
```

### 2. AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆç®¡ç†è€…ï¼ˆAAMï¼‰ã®å½¹å‰²

```markdown
# AI Assistant Manager (AAM) Responsibilities

## Daily Tasks
- [ ] Review AI-generated code quality metrics
- [ ] Update CLAUDE.md with new patterns
- [ ] Curate prompt library
- [ ] Monitor AI usage statistics

## Weekly Tasks
- [ ] Analyze AI assistance effectiveness
- [ ] Share best practices with team
- [ ] Update AI guidelines based on learnings
- [ ] Review and optimize MCP configurations

## Metrics to Track
- Time saved per issue
- AI suggestion acceptance rate
- Code quality improvements
- Bug reduction percentage

## Tools
- Dashboard: `/admin/ai-metrics`
- Reports: `.workplace/reports/ai-weekly/`
- Feedback: `.workplace/feedback/ai-assistance/`
```

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 1. Claude Codeã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–

```bash
# .claude/optimize-session.sh

#!/bin/bash

# ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–
cat > .claudeignore << EOF
node_modules/
.next/
dist/
coverage/
*.log
*.tmp
.git/objects/
EOF

# ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã®ç¢ºèª
echo "Checking context size..."
find . -type f -name "*.ts" -o -name "*.tsx" | 
  grep -v node_modules | 
  xargs wc -l | 
  tail -1

# å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã®ç‰¹å®š
echo "Large files that might affect performance:"
find . -type f -size +100k -not -path "./node_modules/*" -not -path "./.git/*"

# æ¨å¥¨: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åˆ†å‰²
echo "Consider splitting context into:"
echo "- Core functionality: Include always"
echo "- Feature-specific: Include when needed"
echo "- Historical: Exclude unless debugging"
```

### 2. ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®æ”¹å–„

```typescript
// .claude/performance-config.ts

export const performanceConfig = {
  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š
  cache: {
    enabled: true,
    ttl: 3600, // 1æ™‚é–“
    maxSize: '100MB',
  },
  
  // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†
  contextWindow: {
    maxTokens: 100000,
    priorityFiles: [
      'CLAUDE.md',
      'src/index.ts',
      'package.json',
    ],
    excludePatterns: [
      '*.test.ts',
      '*.spec.ts',
      '*.md',
    ],
  },
  
  // å¿œç­”ã®æœ€é©åŒ–
  response: {
    streamingEnabled: true,
    maxResponseLength: 4000,
    codeBlockLanguage: 'typescript',
  },
};
```

### 3. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç®¡ç†

```typescript
// .claude/scripts/memory-monitor.ts

import { performance } from 'perf_hooks';

class MemoryMonitor {
  private baseline: number;
  
  constructor() {
    this.baseline = process.memoryUsage().heapUsed;
  }
  
  checkMemory(operation: string) {
    const current = process.memoryUsage().heapUsed;
    const diff = current - this.baseline;
    
    console.log(`Memory after ${operation}: ${Math.round(current / 1024 / 1024)}MB`);
    console.log(`Difference: ${diff > 0 ? '+' : ''}${Math.round(diff / 1024 / 1024)}MB`);
    
    if (diff > 500 * 1024 * 1024) { // 500MB increase
      console.warn('âš ï¸ High memory usage detected. Consider restarting Claude Code session.');
    }
  }
  
  reset() {
    if (global.gc) {
      global.gc();
      this.baseline = process.memoryUsage().heapUsed;
    }
  }
}

export const memoryMonitor = new MemoryMonitor();
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. Claude CodeãŒå¿œç­”ã—ãªã„

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒªã‚»ãƒƒãƒˆ
claude reset

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢
rm -rf ~/.claude/cache/

# è©³ç´°ãƒ­ã‚°ã®ç¢ºèª
claude chat --verbose --log-level debug
```

#### 2. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒå¤§ãã™ãã‚‹ã‚¨ãƒ©ãƒ¼

```bash
# ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã®ç¢ºèª
claude context --analyze

# ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿ã‚’å«ã‚ã‚‹
claude chat --include "src/" --exclude "tests/"

# .claudeignore ã®æ´»ç”¨
echo "*.test.ts" >> .claudeignore
echo "docs/" >> .claudeignore
```

#### 3. ä¸æ­£ç¢ºãªææ¡ˆãŒå¤šã„

```markdown
## Improving Claude Code Accuracy

1. **Update CLAUDE.md regularly**
   - Keep technology versions current
   - Document recent architectural changes
   - Add examples of preferred patterns

2. **Provide specific context**
   ```
   Bad: "Fix the bug in authentication"
   Good: "Fix the JWT token expiration bug in src/lib/auth.ts line 45"
   ```

3. **Use consistent patterns**
   - Maintain consistent code style
   - Use clear naming conventions
   - Document exceptions clearly
```

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
claude chat --debug

# ç‰¹å®šã®æ©Ÿèƒ½ã®ãƒ‡ãƒãƒƒã‚°
CLAUDE_DEBUG=mcp,context claude chat

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°
claude chat --profile > performance.log
```

---

## ã¾ã¨ã‚

Claude Codeã‚’åŠ¹æœçš„ã«æ´»ç”¨ã™ã‚‹ãŸã‚ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼š

1. **é©åˆ‡ãªåˆæœŸè¨­å®š**: CLAUDE.mdã‚’å……å®Ÿã•ã›ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’æ•´ç†
2. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†**: éšå±¤çš„ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ç®¡ç†ã—ã€å¿…è¦ãªæƒ…å ±ã‚’é©åˆ‡ã«æä¾›
3. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç¢ºç«‹**: ãƒãƒ¼ãƒ ã§å…±æœ‰ã§ãã‚‹æ¨™æº–çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©
4. **ç¶™ç¶šçš„ãªæ”¹å–„**: ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã‚’é€šã˜ã¦ã€AIæ´»ç”¨æ–¹æ³•ã‚’æ”¹å–„
5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã‚’å®šæœŸçš„ã«ãƒã‚§ãƒƒã‚¯

ã“ã‚Œã‚‰ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å®Ÿè·µã™ã‚‹ã“ã¨ã§ã€Claude Codeã‚’ä½¿ã£ãŸé–‹ç™ºåŠ¹ç‡ã‚’æœ€å¤§åŒ–ã§ãã¾ã™ã€‚

---

## é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [Claude Codeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.anthropic.com/claude-code)
- [MCPä»•æ§˜](https://github.com/anthropics/mcp)
- [ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ•ã‚©ãƒ¼ãƒ©ãƒ ](https://community.anthropic.com)
- [ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ](https://github.com/anthropics/claude-code-examples)

## æ›´æ–°å±¥æ­´

- 2024-01-20: åˆç‰ˆä½œæˆ
- 2024-01-21: MCPè¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
- 2024-01-22: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ‹¡å……

---

*ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å®šæœŸçš„ã«æ›´æ–°ã•ã‚Œã¾ã™ã€‚æœ€æ–°ç‰ˆã¯[ã“ã¡ã‚‰](https://github.com/yourusername/claude-code-guide)ã§ã”ç¢ºèªãã ã•ã„ã€‚*