#!/bin/bash
# th-alias - bashã§å‹•ä½œã™ã‚‹è»½é‡ç‰ˆ

# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹å ´åˆã®ä¾‹
# alias th='/Users/ryosukesuto/src/github.com/ryosukesuto/dotfiles/bin/th-alias'

if [ -z "$1" ]; then
    echo "ä½¿ç”¨æ–¹æ³•: th <ãƒ¡ãƒ¢å†…å®¹>"
    exit 1
fi

vault_path="$HOME/src/github.com/ryosukesuto/obsidian-notes"
today=$(date +%Y-%m-%d)
daily_note="$vault_path/01_Daily/${today}.md"
timestamp=$(date "+%Y/%m/%d %H:%M:%S")

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p "$vault_path/01_Daily"

# ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ
if [ ! -f "$daily_note" ]; then
    {
        echo "# ${today}"
        echo ""
        echo "## ğŸ“ ãƒ¡ãƒ¢"
    } > "$daily_note"
fi

# ãƒ¡ãƒ¢ã‚’è¿½åŠ ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ï¼‰
echo "- ${timestamp}: $*" >> "$daily_note"
echo "âœ… ãƒ¡ãƒ¢ã‚’è¿½åŠ ã—ã¾ã—ãŸ: $*"