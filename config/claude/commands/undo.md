---
description: 最後のGit操作（コミット、マージ、リベース等）を安全に取り消し
---

# /undo - 最後のGit操作を取り消す

## 目的
最後に実行したGit操作（コミット、マージ、リベースなど）を安全に取り消します。

## 動作
1. 現在のGitステータスと最近の履歴を確認
2. 最後の操作を特定（コミット、マージ、リベースなど）
3. 適切な取り消し方法を選択：
   - 最後のコミット → `git reset --soft HEAD~1`（変更は保持）
   - マージ → `git reset --hard ORIG_HEAD`（マージ前の状態に戻る）
   - リベース → `git rebase --abort` または `git reset --hard ORIG_HEAD`
   - プッシュ済み → 警告を表示し、force pushが必要なことを通知
4. 取り消し実行前に確認を求める
5. 取り消し後の状態を表示

## 安全性
- 破壊的な操作前は必ず確認
- リモートにプッシュ済みの変更は特別な警告
- 取り消し不可能な操作は事前に警告
- 作業ツリーに未コミットの変更がある場合は警告

## 使用例
```
/undo
```

## 注意事項
- このコマンドは最後の1つの操作のみを取り消します
- 複数の操作を取り消したい場合は、履歴を確認して適切なコミットまでresetすることを推奨
- force pushが必要な場合は、チームメンバーへの影響を考慮してください