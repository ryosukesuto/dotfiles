# Claude Code グローバル設定

このファイルは、Claude Codeで使用するコア設定を管理します。

## 🎯 基本原則

### 言語設定
- **日本語コミュニケーション**: すべての返答は日本語
- **英語思考プロセス**: 内部的な問題解決は英語で実行

### 作業アプローチ
- **ToDoリスト必須**: 作業開始時に必ず計画を可視化、進捗をリアルタイム更新
- **段階的実装**: 複雑なタスクは適切な粒度に分解、一度に1つのタスクのみ進行中
- **MVP方式**: 改善項目は🚨セキュリティ > ⚠️パフォーマンス > 💡保守性 > 📝可読性の順で一つずつ実装
- **完了確認**: 各タスク完了時は動作確認・テスト実行・lint/typecheck通過を必須
- **日時確認**: 日時関連作業では必ず `date "+%Y-%m-%d (%a) %H:%M"` で現在時刻を確認
- **作業報告**: `th "作業内容"`でObsidianデイリーノートに自動記録（完了・発見・課題を簡潔に）

## 🔄 ワークフロー

### Terraform作業時
1. 変更ファイル確認 → 影響範囲の予測と文書化
2. variables.tf更新 → README.md更新確認  
3. IAM変更 → セキュリティレビュー必須
4. PR作成前 → Sandboxブランチでローカルと同期（必須）
5. PR作成後 → CI/CDのterraform planで結果確認

### PR作成時
1. 単一改善項目に限定 → 他の改善は意図的に除外して記載
2. テスト・lint通過確認 → CI/CDが全てグリーンであることを確認
3. 変更影響範囲の説明 → 既存機能への影響有無を明記
4. 完了基準の明確化 → 何を持って完了とするかを具体的に記載
5. 次のPR計画を記載 → 残課題と次の改善項目を明示

## 🔗 詳細設定

- **[クイックリファレンス](quick-reference.md)** - 頻出パターンと即座に使える指示、コマンドリファレンス
- **[Terraformワークフロー](terraform-workflow.md)** - Terraform特化の詳細手順とドキュメント基準

## 📝 重要な注意事項

### セキュリティ
- パスワードや秘密鍵はハードコードしない（コミット前に必ず確認）
- 環境固有の情報は `.env.local` で管理、gitignore設定必須
- APIキーや認証情報は環境変数経由でのみ使用

### コミット・PR
- コミット前に必ずlint/typecheck実行
- 機密情報の混入がないことを確認してからpush
- PR作成時はCI/CDが全てグリーンになってからレビュー依頼

### Terraform特有
- ローカルでのterraform実行は禁止（GitOpsワークフロー厳守）
- 状態ファイル操作は絶対に手動で行わない
- リソース削除時は影響範囲を事前に十分検証